<?xml version='1.0' encoding='UTF-8'?> 
<bloc>
	<Criters>
		<categorie>Profil</categorie>
		<canonical>newsletter</canonical>
		<description>Newsletter (if enabled)</description>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<type>
			<name>none</name>
			<query>newsletter # (1)</query>
		</type>
	</Criters>
	<Criters>
		<categorie>Profil</categorie>
		<description>Opt-in</description>
		<canonical>optin</canonical>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<type>
			<name>none</name>
			<query>optin # (1)</query>
		</type>
	</Criters>
	<Criters>
		<categorie>Profil</categorie>
		<description>Groupe Client</description>
		<canonical>group</canonical>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<type>
			<name>select</name>
			<tableQuery>SELECT id_group as id,name FROM `ps_group_lang` where id_lang=1</tableQuery>
			<nameTable>group_lang</nameTable>
			<column>name</column>
			<placeholder>All group</placeholder>
			<query>id_customer # (SELECT id_customer FROM ps_customer_group WHERE id_group IN (@))</query>
		</type>
	</Criters>
	<Criters>
		<categorie>Profil</categorie>
		<description>Language</description>
		<canonical>lang</canonical>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<type>
			<name>select</name>
			<tableQuery>SELECT id_lang as id, name FROM `ps_lang`</tableQuery>
			<nameTable>lang</nameTable>
			<column>name</column>
			<placeholder>All languages</placeholder>
			<query>id_lang # (@)</query>
		</type>
	</Criters>
	<Criters>
		<categorie>Profil</categorie>
		<description>Currencies</description>
		<canonical>device</canonical>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<type>
			<name>select</name>
			<tableQuery>SELECT name FROM ps_currency</tableQuery>
			<nameTable>currency</nameTable>
			<column>name</column>
			<placeholder>All currencies</placeholder>
			<query>id_shop # (SELECT id_shop FROM ps_currency_shop WHERE id_currency IN (@))</query>
		</type>
	</Criters>
	<Criters>
		<categorie>Profil</categorie>
		<description>Country</description>
		<canonical>country</canonical>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<type>
			<name>select</name>
			<tableQuery>SELECT ps_country_lang.name from ps_country_lang INNER JOIN ps_address ON ps_country_lang.id_country = ps_address.id_country where id_customer > 0 GROUP BY ps_address.id_country </tableQuery>
			<nameTable>country_lang</nameTable>
			<column>name</column>
			<placeholder>All countries</placeholder>
			<query>id_customer in (select id_customer from ps_orders where id_address_delivery in (select id_address from ps_address where id_country # (@)))</query>
		</type>
	</Criters>
	<Criters>
		<categorie>Profil</categorie>
		<description>Age</description>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<canonical>yearsold</canonical>
		<type>
			<name>text</name>
			<nameTable>customer</nameTable>
			<column>birthday</column>
			<query>id_customer # (SELECT id_customer from ps_customer having year(NOW()) - year(`birthday`) - (DATE_FORMAT(NOW(), '00-%m-%d') &lt; DATE_FORMAT(`birthday`, '00-%m-%d')) between '@' and '@')</query>
		</type>
	</Criters>
	<Criters>
		<categorie>Profil</categorie>
		<description>Sexe</description>
		<canonical>sexe</canonical>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<type>
			<name>select</name>
			<tableQuery>SELECT name FROM `ps_gender_lang` where id_lang=1</tableQuery>
			<nameTable>gender_lang</nameTable>
			<column>name</column>
			<placeholder>All sexes</placeholder>
			<query>id_gender # (@)</query>
		</type>
	</Criters>
	<Criters>
		<categorie>Abandoned</categorie>
		<description>Category</description>
		<canonical>abandoned_categorie</canonical>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<type>
			<name>select</name>
			<nameTable>Category</nameTable>
			<tableQuery>SELECT ps_category_lang.name FROM ps_category_lang INNER JOIN ps_product ON ps_category_lang.id_category=ps_product.id_category_default Group by id_category_default</tableQuery>
			<column>name</column>
			<placeholder>All Categories</placeholder>
		</type>
	</Criters>
	<Criters>
		<categorie>Abandoned</categorie>
		<description>Brand</description>
		<canonical>abandoned_marque</canonical>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<type>
			<name>select</name>
			<nameTable>Brand</nameTable>
			<tableQuery>SELECT name FROM `ps_manufacturer`</tableQuery>
			<column>name</column>
			<placeholder>All brands</placeholder>
		</type>
	</Criters>
	<Criters>
		<categorie>Abandoned</categorie>
		<description>Product</description>
		<canonical>abandoned_produit</canonical>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<type>
			<name>select</name>
			<nameTable>Product</nameTable>
			<tableQuery>SELECT name FROM `ps_product_lang` where id_lang=1</tableQuery>
			<column>name</column>
			<placeholder>All products</placeholder>
		</type>
	</Criters>
	<Criters>
		<categorie>Abandoned</categorie>
		<description>Amount</description>
		<canonical>abandoned_montant</canonical>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<type>
			<name>text</name>
			<nameTable>Amount</nameTable>
		</type>
		<type>
			<name>text</name>
			<nameTable>Amount</nameTable>
		</type>
	</Criters>
	<Criters>
		<categorie>Activity</categorie>
		<description>No Command</description>
		<canonical>activity_no_cmd</canonical>
		<switch1>Before</switch1>
		<switch2>After</switch2>
		<type>
			<name>date</name>
			<query>id_customer in (SELECT id_customer FROM `ps_orders` where `date_add` # '@')</query>
		</type>
	</Criters>
	<Criters>
		<categorie>Activity</categorie>
		<description>Number of order</description>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<canonical>activity_nb_cmd</canonical>
		<type>
			<name>text</name>
			<nameTable>Amount</nameTable>
			<query>id_customer # (select id_customer from ps_orders group by id_customer having count(id_customer) between '@' and '@')</query>
		</type>
	</Criters>
	<Criters>
		<categorie>Purchases</categorie>
		<description>Category</description>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<canonical>purchases_categorie</canonical>
		<type>
			<name>select</name>
			<nameTable>Category</nameTable>
			<tableQuery>SELECT ps_category_lang.name FROM ps_category_lang INNER JOIN ps_product ON ps_category_lang.id_category=ps_product.id_category_default Group by id_category_default</tableQuery>
			<column>name</column>
			<placeholder>All categories</placeholder>
		</type>
	</Criters>
	<Criters>
		<categorie>Purchases</categorie>
		<description>Brand</description>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<canonical>purchases_brand</canonical>
		<type>
			<name>select</name>
			<nameTable>Brand</nameTable>
			<tableQuery>SELECT name FROM `ps_manufacturer`</tableQuery>
			<column>name</column>
			<placeholder>All brands</placeholder>
		</type>
	</Criters>
	<Criters>
		<categorie>Purchases</categorie>
		<description>Product</description>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<canonical>purchases_produit</canonical>
		<type>
			<name>select</name>
			<nameTable>Product</nameTable>
			<tableQuery>SELECT name FROM `ps_product_lang` where id_lang=1</tableQuery>
			<column>name</column>
			<placeholder>All products</placeholder>
		</type>
	</Criters>
	<Criters>
		<categorie>Purchases</categorie>
		<description>Amount</description>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<canonical>purchases_montant</canonical>
		<type>
			<name>text</name>
			<nameTable>Amount</nameTable>
		</type>
	</Criters>
	<Criters>
		<categorie>Habits</categorie>
		<description>Payment</description>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<canonical>habits_payment</canonical>
		<type>
			<name>select</name>
			<tableQuery>SELECT ps_module.name FROM ps_module INNER JOIN ps_module_currency ON ps_module.id_module=ps_module_currency.id_module</tableQuery>
			<column>name</column>
			<nameTable>Payment</nameTable>
			<placeholder>All payment</placeholder>
		</type>
	</Criters>
	<Criters>
		<categorie>Habits</categorie>
		<description>Delivery type</description>
		<switch1>Is</switch1>
		<switch2>Is not</switch2>
		<canonical>habits_delivery_type</canonical>
		<type>
			<name>select</name>
			<nameTable>carrier_lang</nameTable>
			<tableQuery>SELECT delay FROM `ps_carrier_lang` where id_lang=1</tableQuery>
			<column>delay</column>
			<nameTable>Delivery type</nameTable>
			<placeholder>All type of delivery</placeholder>
		</type>
	</Criters>
</bloc>
